{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Stream4nzu/components/navbar.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { Search, X } from 'lucide-react'\n\ninterface Anime {\n  mal_id: number\n  title: string\n  images: { jpg: { small_image_url: string } }\n}\n\nexport default function MobileSearch() {\n  const router = useRouter()\n  const [searchOpen, setSearchOpen] = useState(false)\n  const [query, setQuery] = useState('')\n  const [results, setResults] = useState<Anime[]>([])\n  const [loading, setLoading] = useState(false)\n\n  const handleSearch = async (q: string) => {\n    setQuery(q)\n    if (!q) return setResults([])\n\n    setLoading(true)\n    try {\n      const res = await fetch(`/api/search?q=${encodeURIComponent(q)}`)\n      const data = await res.json()\n      setResults(data.data || [])\n    } catch {\n      setResults([])\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <>\n      <button\n        onClick={() => setSearchOpen(true)}\n        className=\"p-2 bg-primary text-white rounded-lg\"\n      >\n        <Search size={20} />\n      </button>\n\n      {searchOpen && (\n        <div className=\"fixed inset-0 bg-black/70 z-50 p-4\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <input\n              autoFocus\n              type=\"text\"\n              value={query}\n              onChange={(e) => handleSearch(e.target.value)}\n              placeholder=\"Search anime...\"\n              className=\"flex-1 p-2 rounded-lg\"\n            />\n            <button onClick={() => setSearchOpen(false)}>\n              <X size={24} className=\"text-white\" />\n            </button>\n          </div>\n\n          <div className=\"space-y-2 max-h-[70vh] overflow-y-auto\">\n            {loading && <p className=\"text-white\">Loading...</p>}\n            {results.map((anime) => (\n              <button\n                key={anime.mal_id}\n                onClick={() => {\n                  setSearchOpen(false)\n                  router.push(`/anime/${anime.mal_id}`)\n                }}\n                className=\"flex items-center gap-3 p-2 bg-white rounded hover:bg-primary/20 w-full text-left\"\n              >\n                <img\n                  src={anime.images.jpg.small_image_url}\n                  alt={anime.title}\n                  className=\"w-12 h-16 object-cover rounded\"\n                />\n                <span>{anime.title}</span>\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAJA;;;;;AAYe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAU,EAAE;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,eAAe,OAAO;QAC1B,SAAS;QACT,IAAI,CAAC,GAAG,OAAO,WAAW,EAAE;QAE5B,WAAW;QACX,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,CAAC,cAAc,EAAE,mBAAmB,IAAI;YAChE,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,WAAW,KAAK,IAAI,IAAI,EAAE;QAC5B,EAAE,OAAM;YACN,WAAW,EAAE;QACf,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE;;0BACE,8OAAC;gBACC,SAAS,IAAM,cAAc;gBAC7B,WAAU;0BAEV,cAAA,8OAAC,gNAAM;oBAAC,MAAM;;;;;;;;;;;YAGf,4BACC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,SAAS;gCACT,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;gCAC5C,aAAY;gCACZ,WAAU;;;;;;0CAEZ,8OAAC;gCAAO,SAAS,IAAM,cAAc;0CACnC,cAAA,8OAAC,iMAAC;oCAAC,MAAM;oCAAI,WAAU;;;;;;;;;;;;;;;;;kCAI3B,8OAAC;wBAAI,WAAU;;4BACZ,yBAAW,8OAAC;gCAAE,WAAU;0CAAa;;;;;;4BACrC,QAAQ,GAAG,CAAC,CAAC,sBACZ,8OAAC;oCAEC,SAAS;wCACP,cAAc;wCACd,OAAO,IAAI,CAAC,CAAC,OAAO,EAAE,MAAM,MAAM,EAAE;oCACtC;oCACA,WAAU;;sDAEV,8OAAC;4CACC,KAAK,MAAM,MAAM,CAAC,GAAG,CAAC,eAAe;4CACrC,KAAK,MAAM,KAAK;4CAChB,WAAU;;;;;;sDAEZ,8OAAC;sDAAM,MAAM,KAAK;;;;;;;mCAZb,MAAM,MAAM;;;;;;;;;;;;;;;;;;;AAoBjC"}}]
}